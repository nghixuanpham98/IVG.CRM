<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="ivg.vn">
    <meta name="description" content="IVG Vietnam Joint Stock Company CRM">

    <!-- Favicon -->
    <link rel="shortcut icon" href="../../assets/image/logo.png">

    <!-- Plugins CSS -->
    <link href="../../assets/bootstrap/fontawesome/css/all.min.css" rel="stylesheet" />
    <!-- Boostrap CSS -->
    <link href="../../assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Theme CSS -->
    <link href="../../assets/theme/css/all.min.css" rel="stylesheet" />
    <link href="../../assets/theme/css/bootstrap-icons.css" rel="stylesheet" />
    <link href="../../assets/bootstrap/bootstrap-icons.css" rel="stylesheet" />
    <link href="../../assets/theme/css/glightbox.css" rel="stylesheet" />
    <link href="../../assets/theme/css/style.css" rel="stylesheet" />
    <link href="../../assets/theme/css/tiny-slider.css" rel="stylesheet" />
    <link href="../../assets/css/ivg-style.css" rel="stylesheet" />
    <link href="../../assets/css/common.css" rel="stylesheet" />
</head>

<body class="body-page">
    <div class="content">
        <!--Content list-->
        <div id="contentList">
            <div>
                <div class="row">
                    <ol class="breadcrumb my-0 p-3">
                        <li class="breadcrumb-item "><i class=" fas fa-home"></i> <a href="#" class="pr-md-3 pl-md-2 pr-2 pl-1">Home</a></li>
                        <li class="breadcrumb-item "><a href="#" class="px-md-3 px-1 my-3">Services</a></li>
                        <li class="breadcrumb-item "><a href="#" class="px-md-3 px-1 my-3">Services</a> </li>
                        <li class="breadcrumb-item "><a href="#" class="px-md-3 px-1 active-1">Cases</a> </li>
                        <li class="breadcrumb-item "><a id="breadcrumbType" href="#" class="px-md-3 px-1 active-1">All Cases</a> </li>
                    </ol>
                </div>

                <div class="row align-items-center p-2">
                    <div class="col-4">
                        <div class="input-group">
                            <input id="txtMainSearch" onchange="onLoadData(0, document.getElementById('hdfTypeOnLoad').value)" placeholder="Type search here..." class="form-control" spellcheck="false" autocomplete="off" type="search">

                            <span onclick="onLoadData(0, document.getElementById('hdfTypeOnLoad').value)" data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Tìm kiếm" data-bs-original-title="Tìm kiếm" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-search"></i></span>
                        </div>
                    </div>

                    <div class="col ivg-align-right">
                        <div class="btn-group">
                            <button onclick="viewCreate(1)" class="btn ivg-button" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Thêm mới"><i class="fas fa-plus"></i></button>

                            <button onclick="submitDelete()" class="btn ivg-button del" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Xóa dữ liệu"><i class="fas fa-trash"></i></button>
                        </div>

                        <div class="btn-group">
                            <button class="btn ivg-button" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Tải lên dữ liệu"><i class="fas fa-upload"></i></button>
                            <button class="btn ivg-button" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Tải xuống dữ liệu"><i class="fas fa-download"></i></button>
                        </div>

                        <div class="dropdown">
                            <button class="btn ivg-button dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"></button>

                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">Action</a></li>
                                <li><a class="dropdown-item" href="#">Another action</a></li>
                                <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="dataTable">
                <table class="ivg-table">
                    <thead>
                        <tr>
                            <th width="100" data-bs-toggle="dropdown" aria-expanded="false" title="Bộ lọc" class="text-center">
                                <i class="fa-solid fa-filter p-2"></i>

                                <ul class="dropdown-menu dropdown-menu-end ms-3">
                                    <li onclick="onLoadData(0, defaultLoadNumb)"><button id="btnFilterAll" class="dropdown-item ivg-button active btn-filter" type="button">All Cases</button></li>
                                    <li onclick="onLoadData(0, 0)"><button id="btnFilterActive" class="dropdown-item ivg-button btn-filter" type="button">Active Cases</button></li>
                                    <li onclick="onLoadData(0, 1)"><button id="btnFilterResolved" class="dropdown-item ivg-button btn-filter" type="button">Resolved Cases</button></li>
                                    <li onclick="onLoadData(0, 2)"><button id="btnFilterCanceled" class="dropdown-item ivg-button btn-filter" type="button">Canceled Cases</button></li>
                                </ul>
                            </th>

                            <th>Case Code</th>

                            <th id="thToggleTitle" class="toggle-th">
                                Case Title
                                <span data-order-name="Title" class="order-icon active p-2">⮟</span>
                            </th>

                            <th id="thTogglePriority" class="toggle-th">
                                Priority
                                <span data-order-name="Priority" class="order-icon p-2">⮟</span>
                            </th>

                            <th id="thToggleAccount" class="toggle-th">
                                Customer
                                <span data-order-name="AccountName" class="order-icon p-2">⮟</span>
                            </th>

                            <th id="thToggleStatus" class="toggle-th">
                                Status
                                <span data-order-name="Status" class="order-icon p-2">⮟</span>
                            </th>

                            <th id="thToggleStatusReason" class="toggle-th">
                                Status Reason
                                <span data-order-name="StatusReason" class="order-icon p-2">⮟</span>
                            </th>

                            <th id="thToggleCreatedOn" class="toggle-th">
                                Created On
                                <span data-order-name="CreatedOn" class="order-icon p-2">⮟</span>
                            </th>
                        </tr>
                    </thead>

                    <tbody id="dataBody"></tbody>
                </table>
            </div>

            <!--Paging-->
            <div class="row ivg-paging mt-3">
                <div class="col">
                    <span><span>Tổng</span>: <b id="totalRecords"></b> <span>dữ liệu</span></span>
                    &nbsp;&nbsp;|&nbsp;&nbsp;

                    <span>
                        <span>Hiển thị</span>

                        <select onchange="onLoadData(1, document.getElementById('hdfTypeOnLoad').value)" id="pageSize">
                            <option selected>10</option>
                            <option>25</option>
                            <option>50</option>
                            <option>75</option>
                            <option>100</option>
                        </select>
                    </span>
                </div>

                <div class="col" style="text-align:right;">
                    <ul id="pagingMainContent" class="pagination-lg"></ul>
                    <input type="hidden" value="1" id="pageIndex" />
                </div>
            </div>
        </div>

        <!--Content details-->
        <div id="contentDetail" class="display-none">
            <div class="card">
                <div class="card-header p-2">
                    <div style="color: var(--main-color-blue-10); display: flex;" class="align-items-center justify-content-between mb-2">
                        <div class="d-flex align-items-center">
                            <div id="btnDetailSaveClose" onclick="submitUpdate(2, 0)" class="me-2 cursor-pointer btn-handle p-2">
                                <i class="fa-solid fa-check"></i>
                                Save & Close
                            </div>

                            <div id="btnDetailSave" onclick="submitUpdate(1, 0)" class="me-2 cursor-pointer btn-handle p-2">
                                <i class="fa-regular fa-floppy-disk"></i>
                                Save
                            </div>

                            <div onclick="viewCreate(1, document.getElementById('hdfDetailID').value)" id="btnDetailChild" class="me-2 cursor-pointer btn-handle p-2">
                                <i class="fa-solid fa-network-wired"></i>
                                Create Child Case
                            </div>

                            <div data-bs-toggle="modal" data-bs-target="#modalResolveCase" id="btnDetailResolve" class="me-2 cursor-pointer btn-handle p-2">
                                <i class="fa-solid fa-file-circle-check"></i>
                                Resolve Case
                            </div>

                            <div onclick="submitUpdate(1, 0, 0)" id="btnDetailReactivate" class="display-none me-2 cursor-pointer btn-handle p-2">
                                <i class="fa-solid fa-rotate-left"></i>
                                Reactivate Case
                            </div>

                            <div id="btnDetailCancel" class="detail-sub">
                                <div onclick="openCancelBlock()" class="me-2 cursor-pointer btn-handle p-2">
                                    <i class="fa-solid fa-file-circle-xmark"></i>
                                    Cancel Case
                                </div>

                                <div id="cancelBlock" class="detail-sub-block card">
                                    <div class="card-header d-flex align-items-center justify-content-between">
                                        <h6 class="m-0 text-uppercase">Chọn trạng thái hủy sự vụ</h6>

                                        <button onclick="closeCancelBlock()" type="button" class="btn-close" aria-label="Close"></button>
                                    </div>

                                    <div id="contentCancelCase" class="card-body p-2">
                                        <div class="form-group row">
                                            <label for="ddlCancleType" class="col-lg-4 col-form-label text-start">
                                                Status
                                                <span class="obligatory">*</span>
                                            </label>

                                            <div class="col-lg-8">
                                                <select id="ddlCancleType" name="ddlCancleType" class="select2 form-select"></select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card-footer text-end py-0 px-2">
                                        <button onclick="submitUpdate(4, 2, document.getElementById('ddlCancleType').value)"
                                                class="btn ivg-button btn-detail-sub__success fw-light">
                                            Confirm
                                            <i class="fa-solid fa-user-check"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="detail-sub">
                                <div onclick="openAssignBlock()" class="me-2 cursor-pointer btn-handle p-2">
                                    <i class="fa-solid fa-user-gear"></i>
                                    Assign
                                </div>

                                <div id="assignBlock" class="detail-sub-block card">
                                    <div class="card-header d-flex align-items-center justify-content-between">
                                        <h6 class="m-0 text-uppercase">Chọn người chỉ định</h6>

                                        <button onclick="closeAssignBlock()" type="button" class="btn-close" aria-label="Close"></button>
                                    </div>

                                    <div class="card-body p-2">
                                        <div class="input-group">
                                            <input id="txtDetailAssign" name="txtDetailAssign" class="form-control" spellcheck="false" autocomplete="off" type="text" />

                                            <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Tìm kiếm" data-bs-original-title="Tìm kiếm" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-search"></i></span>

                                            <input id="txtDetailAssignVal" type="hidden" />
                                        </div>
                                    </div>

                                    <div class="card-footer text-end py-0 px-2">
                                        <button onclick="submitUpdate(2, document.getElementById('hdfStatus').value, document.getElementById('hdfStatusReason').value, true)"
                                                class="btn ivg-button btn-detail-sub__success fw-light">
                                            Assign
                                            <i class="fa-solid fa-user-check"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div onclick="submitDelete()" class="me-2 cursor-pointer btn-handle p-2">
                                <i class="fa-solid fa-trash-can"></i>
                                Delete
                            </div>
                        </div>

                        <button id="btnDetailClose" onclick="viewDetails()" type="button" class="btn-close" aria-label="Close"></button>
                    </div>

                    <hr class="m-0" />

                    <div class="d-flex align-items-center justify-content-between">
                        <h6 class="m-0 text-uppercase">Case - <span id="titleDetail" class="text-danger col-3"></span></h6>

                        <div class="col-8 row d-flex align-items-end justify-content-between">
                            <div class="form-group col-3">
                                <label for="ddlDetailPriority" class="col-form-label text-start">
                                    Priority
                                </label>

                                <div>
                                    <select class="select-card-header select-card-header-disabled form-select" id="ddlDetailPriority" name="ddlDetailPriority">
                                        <option value="1">Rất thấp</option>
                                        <option value="2">Thấp</option>
                                        <option value="3" selected>Trung bình</option>
                                        <option value="4">Cao</option>
                                        <option value="5">Rất cao</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group col-3">
                                <label for="ddlDetailStatusReason" class="col-form-label text-start">
                                    Status Reason
                                </label>

                                <div>
                                    <select class="select-card-header select-card-header-disabled form-select" id="ddlDetailStatusReason" name="ddlDetailStatusReason">
                                    </select>
                                </div>
                            </div>

                            <div class="form-group col-3">
                                <label for="txtDetailOwner" class="col-form-label text-start">
                                    <i class="cursor-pointer fa-solid fa-user me-2"></i>
                                    Owner
                                    <span class="obligatory">*</span>
                                </label>

                                <div id="txtDetailOwnerBlock">
                                    <div class="input-group">
                                        <input disabled id="txtDetailOwner" name="txtDetailOwner" class="input-card-header input-card-header-disabled form-control" spellcheck="false" autocomplete="off" type="text" />

                                        <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Tìm kiếm" data-bs-original-title="Tìm kiếm" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-search"></i></span>

                                        <input id="txtDetailOwnerVal" type="hidden" />
                                    </div>
                                </div>
                            </div>

                            <div class="form-group col-3">
                                <label for="txtDetailCreatedOn" class="col-form-label text-start">
                                    <i class="fa-solid fa-user-lock me-2"></i>
                                    Created On
                                </label>

                                <div>
                                    <div class="input-group">
                                        <input id="txtDetailCreatedOn" name="txtDetailCreatedOn" disabled class="input-card-header input-card-header-disabled form-control" spellcheck="false" autocomplete="off" type="text">

                                        <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Thời gian" data-bs-original-title="Thời gian" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-calendar-days"></i></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card-body p-2">
                    <nav>
                        <div class="nav nav-tabs" id="nav-tabDetail">
                            <a onclick="viewDetails(document.getElementById('hdfDetailID').value)" id="tabDetailGeneralLink" class="nav-link active nav-custom" data-bs-toggle="tab" href="#tabDetailGeneral">General</a>
                            <a onclick="onLoadRelationships()" class="nav-link nav-custom" data-bs-toggle="tab" href="#tabDetailRelationship">Case Relationships</a>
                        </div>
                    </nav>

                    <div class="tab-content" id="nav-tabContentDetail">
                        <div class="tab-pane nav-custom active p-2" id="tabDetailGeneral">
                            <div class="row">
                                <div class="col-md-8">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-header fw-bold text-uppercase text-center">
                                                    Customer details
                                                    <i class="fa-solid fa-user-lock ms-1"></i>
                                                </div>

                                                <div class="card-body p-2">
                                                    <div class="form-group row align-items-center mb-2">
                                                        <div class="col-lg-5 col-form-label text-center">
                                                            <div class="user-text">
                                                                <i class="fa-solid fa-user"></i>
                                                            </div>
                                                        </div>

                                                        <div class="col-lg-7">
                                                            <label id="lblDetailAccountName" class="fw-bold text-uppercase"></label>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="txtDetailAccountEmail" class="col-lg-5 col-form-label text-start">
                                                            Email
                                                            <i class="fa-solid fa-envelope ms-1"></i>
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <input disabled id="txtDetailAccountEmail" name="txtDetailAccountEmail" type="text" spellcheck="false" autocomplete="off" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="form-group row">
                                                        <label for="txtDetailAccountPhone" class="col-lg-5 col-form-label text-start">
                                                            Phone
                                                            <i class="fa-solid fa-phone ms-1"></i>
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <input disabled id="txtDetailAccountPhone" name="txtDetailAccountPhone" type="text" spellcheck="false" autocomplete="off" class="form-control" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card">
                                                <div class="card-header fw-bold text-uppercase text-center">
                                                    CONTRACT
                                                </div>

                                                <div class="card-body p-2">
                                                    <div class="form-group row mb-2">
                                                        <label for="ddlDetailContract" class="col-lg-5 col-form-label text-start">
                                                            Contract
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <select onchange="onLoadContractLines()" id="ddlDetailContract" name="ddlDetailContract" class="select2 form-select"></select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="ddlDetailContractLine" class="col-lg-5 col-form-label text-start">
                                                            Contract Line
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <select id="ddlDetailContractLine" name="ddlDetailContractLine" class="select2 form-select"></select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="txtDetailSerialNumber" class="col-lg-5 col-form-label text-start">
                                                            Serial Number
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <input id="txtDetailSerialNumber" name="txtDetailSerialNumber" type="text" spellcheck="false" autocomplete="off" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="form-group row">
                                                        <label for="ddlDetailServiceLevel" class="col-lg-5 col-form-label text-start">
                                                            Service Level
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <select class="select2 form-select" id="ddlDetailServiceLevel" name="ddlDetailServiceLevel">
                                                                <option value="0" selected>-- Chọn cấp độ dịch vụ --</option>
                                                                <option value="1">Rất thấp</option>
                                                                <option value="2">Thấp</option>
                                                                <option value="3">Trung bình</option>
                                                                <option value="4">Cao</option>
                                                                <option value="5">Rất cao</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-header fw-bold text-uppercase text-center">
                                                    Case details
                                                </div>

                                                <div class="card-body p-2">
                                                    <div class="form-group row mb-2">
                                                        <label for="txtDetailCode" class="col-lg-4 col-form-label text-start">
                                                            Case code
                                                            <i class="fa-solid fa-user-lock ms-1"></i>
                                                        </label>

                                                        <div id="txtDetailCodeBlock" class="col-lg-8">
                                                            <input disabled id="txtDetailCode" name="txtDetailCode" type="text" spellcheck="false" autocomplete="off" class="form-control" />

                                                            <div class="warning-invalid__title"></div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="txtDetailTitle" class="col-lg-4 col-form-label text-start">
                                                            Case title
                                                            <span class="obligatory">*</span>
                                                        </label>

                                                        <div id="txtDetailTitleBlock" class="col-lg-8">
                                                            <input id="txtDetailTitle" name="txtDetailTitle" type="text" spellcheck="false" autocomplete="off" class="form-control" />

                                                            <div class="warning-invalid__title"></div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="txtDetailAccount" class="col-lg-4 col-form-label text-start">
                                                            Customer
                                                            <span class="obligatory">*</span>
                                                        </label>

                                                        <div id="txtDetailAccountBlock" class="col-lg-8">
                                                            <div class="input-group">
                                                                <input id="txtDetailAccount" name="txtDetailAccount" type="text" spellcheck="false" autocomplete="off" class="form-control" />

                                                                <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Tìm kiếm" data-bs-original-title="Tìm kiếm" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-search"></i></span>

                                                                <input id="txtDetailAccountVal" type="hidden" />
                                                            </div>

                                                            <div class="warning-invalid__title"></div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="ddlDetailSubject" class="col-lg-4 col-form-label text-start">
                                                            Subject
                                                        </label>

                                                        <div class="col-lg-8">
                                                            <select class="select2 form-select" id="ddlDetailSubject" name="ddlDetailSubject"></select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="ddlDetailOrigin" class="col-lg-4 col-form-label text-start">
                                                            Origin
                                                        </label>

                                                        <div class="col-lg-8">
                                                            <select class="select2 form-select" id="ddlDetailOrigin" name="ddlDetailOrigin">
                                                                <option value="0" selected>-- Chọn nguồn tiếp nhận --</option>
                                                                <option value="1">Điện thoại</option>
                                                                <option value="2">Email</option>
                                                                <option value="3">Website</option>
                                                                <option value="4">Mạng xã hội</option>
                                                            </select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="ddlDetailContact" class="col-lg-4 col-form-label text-start">
                                                            Contact
                                                        </label>

                                                        <div class="col-lg-8">
                                                            <select data-default-value="0" class="select2 form-select" id="ddlDetailContact" name="ddlDetailContact"></select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="txtDetailProduct" class="col-lg-4 col-form-label text-start">
                                                            Product
                                                        </label>

                                                        <div class="col-lg-8">
                                                            <div class="input-group">
                                                                <input id="txtDetailProduct" name="txtDetailProduct" type="text" spellcheck="false" autocomplete="off" class="form-control" />

                                                                <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Tìm kiếm" data-bs-original-title="Tìm kiếm" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-search"></i></span>

                                                                <input id="txtDetailProductVal" type="hidden" />
                                                            </div>

                                                            <div class="warning-invalid__title"></div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row">
                                                        <label for="txtDetailDescription" class="col-lg-4 col-form-label text-start">
                                                            Description
                                                        </label>

                                                        <div class="col-lg-8">
                                                            <textarea id="txtDetailDescription" spellcheck="false" name="txtDetailDescription" rows="4" class="form-control"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="card">
                                        <div class="card-header fw-bold text-uppercase text-center">
                                            ACTIVITIES
                                        </div>

                                        <div class="card-body p-2">
                                            <nav>
                                                <div class="nav nav-tabs" id="nav-tabDetailSub">
                                                    <a id="tabDetailSubPostsLink" class="nav-link nav-custom active" data-bs-toggle="tab" href="#tabDetailSubPosts">Posts</a>
                                                    <a onclick="onLoadDataTasks()" class="nav-link nav-custom" data-bs-toggle="tab" href="#tabDetailSubTasks">Tasks</a>
                                                    <a onclick="onLoadDataNotes()" class="nav-link nav-custom" data-bs-toggle="tab" href="#tabDetailSubNotes">Notes</a>

                                                    <div data-bs-toggle="dropdown" aria-expanded="false" class="p-2">
                                                        <i class="cursor-pointer d-flex align-items-center fa-solid fa-ellipsis"></i>

                                                        <ul class="dropdown-menu dropdown-menu-end">
                                                            <li><button class="dropdown-item ivg-button" type="button"><i class="fa-solid fa-phone me-2"></i> Phone call</button></li>
                                                            <li><button class="dropdown-item ivg-button" type="button"><i class="fa-solid fa-envelope me-2"></i> Email</button></li>
                                                            <li><button class="dropdown-item ivg-button" type="button"><i class="fa-regular fa-calendar-check me-2"></i> Appointment</button></li>
                                                        </ul>
                                                    </div>
                                                </div>

                                                <div class="tab-content" id="nav-tabContentDetailSub">
                                                    <div class="tab-pane nav-custom p-0 mt-1 active" id="tabDetailSubPosts">

                                                    </div>

                                                    <div class="tab-pane nav-custom p-0 mt-1" id="tabDetailSubTasks">
                                                        <div id="createTaskBtn" class="text-end mb-1">
                                                            <i onclick='viewCreateTasks(1)' title="Thêm mới" class="cursor-pointer btn-handle p-2 fas fa-plus font-size-1-2"></i>
                                                        </div>

                                                        <div id="createTaskBlock" class="card display-none">
                                                            <div class="card-header fw-bold text-uppercase d-flex align-items-center">
                                                                <span class="flex-grow-1 text-center">Tasks</span>
                                                                <button onclick="viewCreateTasks()" title="Đóng" type="button" class="btn-close" aria-label="Close"></button>
                                                            </div>

                                                            <div class="card-body p-2">
                                                                <div id="txtTaskSubjectBlock" class="form-floating mb-2">
                                                                    <input id="txtTaskSubject" type="text" spellcheck="false" autocomplete="off" class="form-control fw-bold" />

                                                                    <label for="txtTaskSubject">Subject <span class="obligatory">*</span></label>

                                                                    <div class="warning-invalid__title mt-1"></div>
                                                                </div>

                                                                <div class="form-floating mb-2">
                                                                    <textarea id="txtTaskDescription" spellcheck="false" rows="2" class="form-control"></textarea>

                                                                    <label for="txtTaskDescription">Description</label>
                                                                </div>

                                                                <div class="form-floating mb-2">
                                                                    <input id="txtTaskDue" type="text" spellcheck="false" autocomplete="off" class="form-control dateTimePickerCustom" />

                                                                    <label for="txtTaskDue">Due</label>
                                                                </div>

                                                                <div class="form-floating mb-2">
                                                                    <select data-default-value="3" class="form-select select-activity" id="ddlTaskPriority" name="ddlTaskPriority">
                                                                        <option value="1">Rất thấp</option>
                                                                        <option value="2">Thấp</option>
                                                                        <option value="3" selected>Trung bình</option>
                                                                        <option value="4">Cao</option>
                                                                        <option value="5">Rất cao</option>
                                                                    </select>

                                                                    <label for="ddlTaskPriority">Priority</label>
                                                                </div>

                                                                <div id="txtTaskOwnerBlock" class="form-floating mb-3">
                                                                    <input id="txtTaskOwner" type="text" spellcheck="false" autocomplete="off" class="form-control" />

                                                                    <input id="txtTaskOwnerVal" type="hidden" />

                                                                    <label for="txtTaskOwner">Owner <span class="obligatory">*</span></label>

                                                                    <div class="warning-invalid__title mt-1"></div>
                                                                </div>

                                                                <div class="d-flex align-items-center justify-content-end">
                                                                    <div onclick="submitCreateTaskCommon()" class="cursor-pointer btn-note p-2">
                                                                        Done
                                                                        <i class="fa-solid fa-check"></i>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="card">
                                                            <div class="card-header fw-bold text-uppercase text-center">
                                                                Task list
                                                            </div>

                                                            <div class="card-body p-0">
                                                                <ul id="dataTaskList" class="note-list p-2">
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="tab-pane nav-custom p-0 mt-1" id="tabDetailSubPhonecalls">

                                                    </div>

                                                    <div class="tab-pane nav-custom p-0 mt-1" id="tabDetailSubNotes">
                                                        <div id="createNoteBtn" class="text-end mb-1">
                                                            <i onclick="viewCreateNotes(1)" title="Thêm mới" class="cursor-pointer btn-handle p-2 fas fa-plus font-size-1-2"></i>
                                                        </div>

                                                        <div id="createNoteBlock" class="card display-none">
                                                            <div class="card-header fw-bold text-uppercase d-flex align-items-center">
                                                                <span class="flex-grow-1 text-center">Notes</span>
                                                                <button onclick="viewCreateNotes()" title="Đóng" type="button" class="btn-close" aria-label="Close"></button>
                                                            </div>

                                                            <div class="card-body p-2">
                                                                <div id="txtNoteTitleBlock" class="form-floating mb-2">
                                                                    <input id="txtNoteTitle" type="text" spellcheck="false" autocomplete="off" class="form-control fw-bold" />

                                                                    <label for="txtNoteTitle">Title <span class="obligatory">*</span></label>

                                                                    <div class="warning-invalid__title mt-1"></div>
                                                                </div>

                                                                <div class="form-floating mb-2">
                                                                    <textarea id="txtNoteContent" spellcheck="false" rows="2" class="form-control"></textarea>

                                                                    <label for="txtNoteContent">Content</label>
                                                                </div>

                                                                <div class="mb-3">
                                                                    <form id="frmAttachment" enctype="multipart/form-data" method="POST">
                                                                        <input id="txtNoteFile" name="txtNoteFile" type="file" multiple class="form-control" />
                                                                    </form>
                                                                </div>

                                                                <div class="d-flex align-items-center justify-content-end">
                                                                    <div onclick="submitCreateNoteCommon()" class="cursor-pointer btn-note p-2">
                                                                        Done
                                                                        <i class="fa-solid fa-check"></i>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="card">
                                                            <div class="card-header fw-bold text-uppercase text-center">
                                                                Notes list
                                                            </div>

                                                            <div class="card-body p-0">
                                                                <ul id="dataNoteList" class="note-list p-2"></ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </nav>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="card">
                                    <div class="card-header fw-bold text-uppercase text-center">
                                        Additional Details
                                    </div>

                                    <div class="card-body p-2">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group row mb-2">
                                                    <label for="txtDetailParent" class="col-lg-6 col-form-label text-start">
                                                        Parent Case
                                                    </label>

                                                    <div class="col-lg-6">
                                                        <div class="input-group">
                                                            <input id="txtDetailParent" name="txtDetailParent" type="text" spellcheck="false" autocomplete="off" class="form-control" />

                                                            <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Tìm kiếm" data-bs-original-title="Tìm kiếm" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-search"></i></span>

                                                            <input id="txtDetailParentVal" type="hidden" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group row mb-2">
                                                    <label for="ddlDetailType" class="col-lg-6 col-form-label text-start">
                                                        Type
                                                    </label>

                                                    <div class="col-lg-6">
                                                        <select class="select2 form-select" id="ddlDetailType" name="ddlDetailType">
                                                            <option value="0" selected>-- Chọn loại dịch vụ --</option>
                                                            <option value="1">Câu hỏi</option>
                                                            <option value="2">Vấn đề</option>
                                                            <option value="3">Yêu cầu</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="form-group row">
                                                    <label for="txtDetailFollowUpBy" class="col-lg-6 col-form-label text-start">
                                                        Follow Up By
                                                    </label>

                                                    <div class="col-lg-6">
                                                        <div class="input-group">
                                                            <input id="txtDetailFollowUpBy" name="txtDetailFollowUpBy" type="text" spellcheck="false" autocomplete="off" class="form-control datePickerCustom">

                                                            <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Thời gian" data-bs-original-title="Thời gian" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-calendar-days"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group row mb-2">
                                                    <label for="ddlDetailFirstResponseSent" class="col-lg-6 col-form-label text-start">
                                                        First Response Sent
                                                    </label>

                                                    <div class="col-lg-6">
                                                        <select class="select2 form-select" id="ddlDetailFirstResponseSent" name="ddlDetailFirstResponseSent">
                                                            <option value="true">Yes</option>
                                                            <option value="false" selected>No</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="form-group row mb-2">
                                                    <label for="ddlDetailEscalated" class="col-lg-6 col-form-label text-start">
                                                        Escalated
                                                    </label>

                                                    <div class="col-lg-6">
                                                        <select class="select2 form-select" id="ddlDetailEscalated" name="ddlDetailEscalated">
                                                            <option value="true">Yes</option>
                                                            <option value="false" selected>No</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="form-group row">
                                                    <label for="txtDetailEscalatedOn" class="col-lg-6 col-form-label text-start">
                                                        Escalated On
                                                        <i class="fa-solid fa-user-lock ms-1"></i>
                                                    </label>

                                                    <div class="col-lg-6">
                                                        <div class="input-group">
                                                            <input disabled id="txtDetailEscalatedOn" name="txtDetailEscalatedOn" type="text" spellcheck="false" autocomplete="off" class="form-control datePickerCustom">

                                                            <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Thời gian" data-bs-original-title="Thời gian" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-calendar-days"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="tabDetailRelationship" class="tab-pane nav-custom p-2">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-header fw-bold text-uppercase d-flex align-items-center">
                                            <span class="flex-grow-1 text-center">CHILD CASES</span>

                                            <i onclick="viewCreateChild()" title="Thêm mới" class="btn-new cursor-pointer btn-handle p-2 fas fa-plus font-size-1-2"></i>
                                        </div>

                                        <div class="card-body p-2">
                                            <div class="dataTable dataTableSub">
                                                <table class="ivg-table">
                                                    <thead>
                                                        <tr>
                                                            <th>Case Title</th>
                                                            <th>Status</th>
                                                            <th>Owner</th>
                                                            <th>Modified On</th>
                                                            <th class="text-center">Handle</th>
                                                        </tr>
                                                    </thead>

                                                    <tbody id="dataBodyChild"></tbody>
                                                </table>
                                            </div>

                                            <!--Paging-->
                                            <div class="row ivg-paging mt-3">
                                                <div class="col">
                                                    <span><span>Tổng</span>: <b id="totalRecordsChild"></b> <span>dữ liệu</span></span>
                                                    &nbsp;&nbsp;|&nbsp;&nbsp;

                                                    <span>
                                                        <span>Hiển thị</span>

                                                        <select onchange="onLoadDataChilds(1)" id="pageSizeChild">
                                                            <option selected>10</option>
                                                            <option>25</option>
                                                            <option>50</option>
                                                            <option>75</option>
                                                            <option>100</option>
                                                        </select>
                                                    </span>
                                                </div>

                                                <div class="col" style="text-align:right;">
                                                    <ul id="pagingMainContentChild" class="pagination-lg"></ul>
                                                    <input type="hidden" value="1" id="pageIndexChild" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-header fw-bold text-uppercase d-flex align-items-center">
                                            <span class="flex-grow-1 text-center">Recent cases</span>

                                            <i class="fa-solid fa-user-lock p-2 font-size-1-2"></i>
                                        </div>

                                        <div class="card-body p-2">
                                            <div class="dataTable dataTableSub">
                                                <table class="ivg-table">
                                                    <thead>
                                                        <tr>
                                                            <th>Case Title</th>
                                                            <th>Status</th>
                                                            <th>Owner</th>
                                                            <th>Modified On</th>
                                                        </tr>
                                                    </thead>

                                                    <tbody id="dataBodyRecent"></tbody>
                                                </table>
                                            </div>

                                            <!--Paging-->
                                            <div class="row ivg-paging mt-3">
                                                <div class="col">
                                                    <span><span>Tổng</span>: <b id="totalRecordsRecent"></b> <span>dữ liệu</span></span>
                                                    &nbsp;&nbsp;|&nbsp;&nbsp;

                                                    <span>
                                                        <span>Hiển thị</span>

                                                        <select onchange="onLoadDataRecents(1)" id="pageSizeRecent">
                                                            <option selected>10</option>
                                                            <option>25</option>
                                                            <option>50</option>
                                                            <option>75</option>
                                                            <option>100</option>
                                                        </select>
                                                    </span>
                                                </div>

                                                <div class="col" style="text-align:right;">
                                                    <ul id="pagingMainContentRecent" class="pagination-lg"></ul>
                                                    <input type="hidden" value="1" id="pageIndexRecent" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Content create-->
        <div id="contentCreate" class="display-none">
            <div class="card">
                <div class="card-header p-2">
                    <div style="color: var(--main-color-blue-10); display: flex;" class="align-items-center justify-content-between mb-2">
                        <div class="d-flex align-items-center">
                            <div onclick="submitCreate(2)" class="me-2 cursor-pointer btn-handle p-2">
                                <i class="fa-solid fa-check"></i>
                                Save & Close
                            </div>

                            <div onclick="submitCreate(1)" class="cursor-pointer btn-handle p-2">
                                <i class="fa-regular fa-floppy-disk"></i>
                                Save
                            </div>
                        </div>

                        <button onclick="viewCreate()" type="button" class="btn-close" aria-label="Close"></button>
                    </div>

                    <hr class="m-0" />

                    <div class="d-flex align-items-center justify-content-between">
                        <h6 class="m-0 text-uppercase">New Case</h6>

                        <div class="col-8 row d-flex align-items-end justify-content-between">
                            <div class="form-group col-3">
                                <label for="ddlPriority" class="col-form-label text-start">
                                    Priority
                                </label>

                                <div>
                                    <select data-default-value="3" class="select-card-header form-select" id="ddlPriority" name="ddlPriority">
                                        <option value="1">Rất thấp</option>
                                        <option value="2">Thấp</option>
                                        <option value="3" selected>Trung bình</option>
                                        <option value="4">Cao</option>
                                        <option value="5">Rất cao</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group col-3">
                                <label for="ddlStatusReason" class="col-form-label text-start">
                                    Status Reason
                                </label>

                                <div>
                                    <select data-default-value="1" class="select-card-header form-select" id="ddlStatusReason" name="ddlStatusReason"></select>
                                </div>
                            </div>

                            <div class="form-group col-3">
                                <label for="txtOwner" class="col-form-label text-start">
                                    <i class="cursor-pointer fa-solid fa-user me-2"></i>
                                    Owner
                                    <span class="obligatory">*</span>
                                </label>

                                <div id="txtOwnerBlock">
                                    <div class="input-group">
                                        <input id="txtOwner" name="txtOwner" class="input-card-header form-control" spellcheck="false" autocomplete="off" type="text" />

                                        <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Tìm kiếm" data-bs-original-title="Tìm kiếm" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-search"></i></span>

                                        <input id="txtOwnerVal" type="hidden" />
                                    </div>

                                    <div class="warning-invalid__title"></div>
                                </div>
                            </div>

                            <div class="form-group col-3">
                                <label for="txtCreatedOn" class="col-form-label text-start">
                                    <i class="fa-solid fa-user-lock me-2"></i>
                                    Created On
                                </label>

                                <div>
                                    <div class="input-group">
                                        <input id="txtCreatedOn" name="txtCreatedOn" disabled class="input-card-header form-control" spellcheck="false" autocomplete="off" type="text">

                                        <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Thời gian" data-bs-original-title="Thời gian" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-calendar-days"></i></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card-body p-2">
                    <nav>
                        <div class="nav nav-tabs" id="nav-tab">
                            <a id="tabGeneralLink" class="nav-link active nav-custom" data-bs-toggle="tab" href="#tabGeneral">General</a>
                            <a class="nav-link nav-custom" data-bs-toggle="tab" href="#tabRelationship">Case Relationships</a>
                        </div>
                    </nav>

                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane active nav-custom p-2" id="tabGeneral">
                            <div class="row">
                                <div class="col-md-8">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-header fw-bold text-uppercase text-center">
                                                    Customer details
                                                    <i class="fa-solid fa-user-lock ms-1"></i>
                                                </div>

                                                <div class="card-body p-2">
                                                    <div class="form-group row align-items-center mb-2">
                                                        <div class="col-lg-5 col-form-label text-center">
                                                            <div class="user-text">
                                                                <i class="fa-solid fa-user"></i>
                                                            </div>
                                                        </div>

                                                        <div class="col-lg-7">
                                                            <label id="lblAccountName">To enable this content, <br />Select customer first</label>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="txtAccountEmail" class="col-lg-5 col-form-label text-start">
                                                            Email
                                                            <i class="fa-solid fa-envelope ms-1"></i>
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <input disabled id="txtAccountEmail" name="txtAccountEmail" type="text" spellcheck="false" autocomplete="off" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="form-group row">
                                                        <label for="txtAccountPhone" class="col-lg-5 col-form-label text-start">
                                                            Phone
                                                            <i class="fa-solid fa-phone ms-1"></i>
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <input disabled id="txtAccountPhone" name="txtAccountPhone" type="text" spellcheck="false" autocomplete="off" class="form-control" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card">
                                                <div class="card-header fw-bold text-uppercase text-center">
                                                    CONTRACT
                                                </div>

                                                <div class="card-body p-2">
                                                    <div class="form-group row mb-2">
                                                        <label for="ddlContract" class="col-lg-5 col-form-label text-start">
                                                            Contract
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <select disabled id="ddlContract" name="ddlContract" class="select2 form-select"></select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="ddlContractLine" class="col-lg-5 col-form-label text-start">
                                                            Contract Line
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <select disabled id="ddlContractLine" name="ddlContractLine" class="select2 form-select"></select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="txtSerialNumber" class="col-lg-5 col-form-label text-start">
                                                            Serial Number
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <input id="txtSerialNumber" name="txtSerialNumber" type="text" spellcheck="false" autocomplete="off" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="form-group row">
                                                        <label for="ddlServiceLevel" class="col-lg-5 col-form-label text-start">
                                                            Service Level
                                                        </label>

                                                        <div class="col-lg-7">
                                                            <select data-default-value="0" class="select2 form-select" id="ddlServiceLevel" name="ddlServiceLevel">
                                                                <option value="0" selected>-- Chọn cấp độ dịch vụ --</option>
                                                                <option value="1">Rất thấp</option>
                                                                <option value="2">Thấp</option>
                                                                <option value="3">Trung bình</option>
                                                                <option value="4">Cao</option>
                                                                <option value="5">Rất cao</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-header fw-bold text-uppercase text-center">
                                                    Case details
                                                </div>

                                                <div class="card-body p-2">
                                                    <div class="form-group row mb-2">
                                                        <label for="txtCode" class="col-lg-4 col-form-label text-start">
                                                            Case code
                                                            <i class="fa-solid fa-user-lock ms-1"></i>
                                                        </label>

                                                        <div id="txtCodeBlock" class="col-lg-8">
                                                            <input disabled id="txtCode" name="txtCode" type="text" spellcheck="false" autocomplete="off" class="form-control" />

                                                            <div class="warning-invalid__title"></div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="txtTitle" class="col-lg-4 col-form-label text-start">
                                                            Case title
                                                            <span class="obligatory">*</span>
                                                        </label>

                                                        <div id="txtTitleBlock" class="col-lg-8">
                                                            <input id="txtTitle" name="txtTitle" type="text" spellcheck="false" autocomplete="off" class="form-control" />

                                                            <div class="warning-invalid__title"></div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="txtAccount" class="col-lg-4 col-form-label text-start">
                                                            Customer
                                                            <span class="obligatory">*</span>
                                                        </label>

                                                        <div id="txtAccountBlock" class="col-lg-8">
                                                            <div class="input-group">
                                                                <input id="txtAccount" name="txtAccount" type="text" spellcheck="false" autocomplete="off" class="form-control" />

                                                                <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Tìm kiếm" data-bs-original-title="Tìm kiếm" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-search"></i></span>

                                                                <input id="txtAccountVal" type="hidden" />
                                                            </div>

                                                            <div class="warning-invalid__title"></div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="ddlSubject" class="col-lg-4 col-form-label text-start">
                                                            Subject
                                                        </label>

                                                        <div class="col-lg-8">
                                                            <select data-default-value="0" class="select2 form-select" id="ddlSubject" name="ddlSubject"></select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="ddlOrigin" class="col-lg-4 col-form-label text-start">
                                                            Origin
                                                        </label>

                                                        <div class="col-lg-8">
                                                            <select data-default-value="0" class="select2 form-select" id="ddlOrigin" name="ddlOrigin">
                                                                <option value="0" selected>-- Chọn nguồn tiếp nhận --</option>
                                                                <option value="1">Điện thoại</option>
                                                                <option value="2">Email</option>
                                                                <option value="3">Website</option>
                                                                <option value="4">Mạng xã hội</option>
                                                            </select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="ddlContact" class="col-lg-4 col-form-label text-start">
                                                            Contact
                                                        </label>

                                                        <div class="col-lg-8">
                                                            <select data-default-value="0" id="ddlContact" name="ddlContact" class="select2 form-select"></select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <label for="txtProduct" class="col-lg-4 col-form-label text-start">
                                                            Product
                                                        </label>

                                                        <div class="col-lg-8">
                                                            <div class="input-group">
                                                                <input id="txtProduct" name="txtProduct" type="text" spellcheck="false" autocomplete="off" class="form-control" />

                                                                <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Tìm kiếm" data-bs-original-title="Tìm kiếm" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-search"></i></span>

                                                                <input id="txtProductVal" type="hidden" />
                                                            </div>

                                                            <div class="warning-invalid__title"></div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row">
                                                        <label for="txtDescription" class="col-lg-4 col-form-label text-start">
                                                            Description
                                                        </label>

                                                        <div class="col-lg-8">
                                                            <textarea id="txtDescription" spellcheck="false" name="txtDescription" rows="4" class="form-control"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="card">
                                        <div class="card-header fw-bold text-uppercase text-center">
                                            Activities
                                        </div>

                                        <div class="card-body p-2">
                                            <nav>
                                                <div class="nav nav-tabs" id="nav-tabSub">
                                                    <a id="tabSubPostsLink" class="nav-link nav-custom active" data-bs-toggle="tab" href="#tabSubPosts">Posts</a>
                                                    <a class="nav-link nav-custom" data-bs-toggle="tab" href="#tabSubTasks">Tasks</a>
                                                    <a class="nav-link nav-custom" data-bs-toggle="tab" href="#tabSubNotes">Notes</a>

                                                    <div data-bs-toggle="dropdown" aria-expanded="false" class="p-2">
                                                        <i class="cursor-pointer d-flex align-items-center fa-solid fa-ellipsis"></i>

                                                        <ul class="dropdown-menu dropdown-menu-end">
                                                            <li><button class="dropdown-item ivg-button" type="button"><i class="fa-solid fa-phone me-2"></i> Phone call</button></li>
                                                            <li><button class="dropdown-item ivg-button" type="button"><i class="fa-solid fa-envelope me-2"></i> Email</button></li>
                                                            <li><button class="dropdown-item ivg-button" type="button"><i class="fa-regular fa-calendar-check me-2"></i> Appointment</button></li>
                                                        </ul>
                                                    </div>
                                                </div>

                                                <div class="tab-content" id="nav-tabContentSub">
                                                    <div class="tab-pane nav-custom p-0 mt-1 active" id="tabSubPosts">
                                                        To enable this content, create the record.
                                                    </div>

                                                    <div class="tab-pane nav-custom p-0 mt-1" id="tabSubTasks">
                                                        To enable this content, create the record.
                                                    </div>

                                                    <div class="tab-pane nav-custom p-0 mt-1" id="tabSubPhonecalls">
                                                        To enable this content, create the record.
                                                    </div>

                                                    <div class="tab-pane nav-custom p-0 mt-1" id="tabSubNotes">
                                                        To enable this content, create the record.
                                                    </div>
                                                </div>
                                            </nav>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="card">
                                    <div class="card-header fw-bold text-uppercase text-center">
                                        Additional Details
                                    </div>

                                    <div class="card-body p-2">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group row mb-2">
                                                    <label for="txtParent" class="col-lg-4 col-form-label text-start">
                                                        Parent Case
                                                        <i id="txtParentIcon" class="display-none fa-solid fa-user-lock ms-1"></i>
                                                    </label>

                                                    <div class="col-lg-8">
                                                        <div class="input-group">
                                                            <input id="txtParent" name="txtParent" type="text" spellcheck="false" autocomplete="off" class="form-control" />

                                                            <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Tìm kiếm" data-bs-original-title="Tìm kiếm" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-search"></i></span>

                                                            <input id="txtParentVal" type="hidden" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group row mb-2">
                                                    <label for="ddlType" class="col-lg-4 col-form-label text-start">
                                                        Type
                                                    </label>

                                                    <div class="col-lg-8">
                                                        <select data-default-value="0" class="select2 form-select" id="ddlType" name="ddlType">
                                                            <option value="0" selected>-- Chọn loại dịch vụ --</option>
                                                            <option value="1">Câu hỏi</option>
                                                            <option value="2">Vấn đề</option>
                                                            <option value="3">Yêu cầu</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="form-group row">
                                                    <label for="txtFollowUpBy" class="col-lg-4 col-form-label text-start">
                                                        Follow Up By
                                                    </label>

                                                    <div class="col-lg-8">
                                                        <div class="input-group">
                                                            <input id="txtFollowUpBy" name="txtFollowUpBy" type="text" spellcheck="false" autocomplete="off" class="form-control datePickerCustom">

                                                            <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Thời gian" data-bs-original-title="Thời gian" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-calendar-days"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group row mb-2">
                                                    <label for="ddlFirstResponseSent" class="col-lg-4 col-form-label text-start">
                                                        First Response Sent
                                                    </label>

                                                    <div class="col-lg-8">
                                                        <select data-default-value="false" class="select2 form-select" id="ddlFirstResponseSent" name="ddlFirstResponseSent">
                                                            <option value="true">Yes</option>
                                                            <option value="false" selected>No</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="form-group row mb-2">
                                                    <label for="ddlEscalated" class="col-lg-4 col-form-label text-start">
                                                        Escalated
                                                    </label>

                                                    <div class="col-lg-8">
                                                        <select data-default-value="false" class="select2 form-select" id="ddlEscalated" name="ddlEscalated">
                                                            <option value="true">Yes</option>
                                                            <option value="false" selected>No</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="form-group row">
                                                    <label for="txtEscalatedOn" class="col-lg-4 col-form-label text-start">
                                                        Escalated On
                                                        <i class="fa-solid fa-user-lock ms-1"></i>
                                                    </label>

                                                    <div class="col-lg-8">
                                                        <div class="input-group">
                                                            <input disabled id="txtEscalatedOn" name="txtEscalatedOn" type="text" spellcheck="false" autocomplete="off" class="form-control datePickerCustom">

                                                            <span data-bs-placement="right" data-bs-toggle="tooltip" aria-label="Thời gian" data-bs-original-title="Thời gian" class="input-group-text cursor-pointer ivg-button"><i class="icon-xs fa-solid fa-calendar-days"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="tabRelationship" class="tab-pane nav-custom p-2">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-header fw-bold text-uppercase text-center">
                                            CHILD CASES
                                        </div>

                                        <div class="card-body p-2">
                                            <table class="ivg-table">
                                                <thead>
                                                    <tr>
                                                        <th>Status</th>
                                                        <th>Case Title</th>
                                                        <th>Owner</th>
                                                        <th>Modified On</th>
                                                        <th class="text-center">Handle</th>
                                                    </tr>
                                                </thead>

                                                <tbody>
                                                    <tr><td class='ms-4' colspan='9999'>To enable this content, create the record.</td></tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-header fw-bold text-uppercase text-center">
                                            Recent cases
                                        </div>

                                        <div class="card-body p-2">
                                            <table class="ivg-table">
                                                <thead>
                                                    <tr>
                                                        <th>Status</th>
                                                        <th>Case Title</th>
                                                        <th class="text-center">Handle</th>
                                                    </tr>
                                                </thead>

                                                <tbody>
                                                    <tr><td class='ms-4' colspan='9999'>To enable this content, create the record.</td></tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Save value-->
    <input type="hidden" id="hdfTypeOnLoad" />
    <input type="hidden" id="hdfDetailID" />
    <input type="hidden" id="hdfContractLineID" />
    <input type="hidden" id="hdfStatus" />
    <input type="hidden" id="hdfStatusReason" />

    <!--Loader-->
    <div id="loader"></div>

    <!--Modal resolve case
    ----------------------------------------------------------------------------------------------------->
    <div class="modal fade" id="modalResolveCase" tabindex="-1" aria-hidden="true" data-bs-backdrop="static">
        <div class="modal-dialog modal-fullscreen modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div style="color: var(--main-color-blue-10); display: flex;" class="modal-header p-2">
                    <div class="d-flex align-items-center">
                        <div onclick="submitUpdate(3, 1, document.getElementById('ddlResolutionType').value)" class="me-2 cursor-pointer btn-handle p-2">
                            <i class="fa-solid fa-check"></i>
                            Resolve
                        </div>
                    </div>

                    <button onclick="clearAllForm('contentResolveCase')" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <div class="card">
                        <div class="card-header fw-bold text-uppercase text-center">
                            Resolve Case
                        </div>

                        <div id="contentResolveCase" class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group row mb-2">
                                        <label for="ddlResolutionType" class="col-lg-4 col-form-label text-start">
                                            Resolution Type
                                            <span class="obligatory">*</span>
                                        </label>

                                        <div class="col-lg-8">
                                            <select id="ddlResolutionType" name="ddlResolutionType" class="select2 form-select"></select>
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label for="txtResolution" class="col-lg-4 col-form-label text-start">
                                            Resolution
                                            <span class="obligatory">*</span>
                                        </label>

                                        <div id="txtResolutionBlock" class="col-lg-8">
                                            <textarea id="txtResolution" spellcheck="false" name="txtResolution" rows="4" class="form-control"></textarea>

                                            <div class="warning-invalid__title"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group row mb-2">
                                        <label for="ddlBillableTime" class="col-lg-4 col-form-label text-start">
                                            Billable Time
                                            <span class="obligatory">*</span>
                                        </label>

                                        <div class="col-lg-8">
                                            <select id="ddlBillableTime" name="ddlBillableTime" class="select2 form-select"></select>
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label for="txtRemarks" class="col-lg-4 col-form-label text-start">
                                            Remarks
                                        </label>

                                        <div class="col-lg-8">
                                            <textarea id="txtRemarks" spellcheck="false" name="txtRemarks" rows="4" class="form-control"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Template Functions -->
    <script src="../../assets/bootstrap/js/jquery-3.2.1.slim.min.js"></script>
    <script src="../../assets/theme/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/theme/js/functions.js"></script>
    <script src="../../assets/theme/js/glightbox.js"></script>
    <script src="../../assets/theme/js/purecounter_vanilla.js"></script>
    <script src="../../assets/theme/js/tiny-slider.js"></script>
    <!--Jquery-->
    <script src="../../assets/jquery/jquery.min.js"></script>
    <!--Datetime picker-->
    <link href="../../assets/dtpicker/jquery.datetimepicker.min.css" rel="stylesheet" />
    <script src="../../assets/dtpicker/jquery.datetimepicker.full.js"></script>
    <!--Select2-->
    <link href="../../assets/select2/select2.min.css" rel="stylesheet" />
    <script src="../../assets/select2/select2.min.js"></script>
    <!--Jquery Ui-->
    <link href="../../assets/jquery-ui/jquery-ui.min-v1.13.2.css" rel="stylesheet" />
    <script src="../../assets/jquery-ui/jquery-ui.min-v1.13.2.js"></script>
    <!--Sweat alert-->
    <script src="../../assets/sweat-alert/sweetalert.min.js"></script>
    <!--Pagination-->
    <script src="../../assets/js/pagination.js"></script>
    <!--Alert Toastr-->
    <link href="../../assets/toast/toastr.min.css" rel="stylesheet" />
    <script src="../../assets/toast/toastr.min.js"></script>
    <!--API Url-->
    <script src="../../assets/js/api-url.js"></script>
    <!--Tree table-->
    <script src="../../assets/tree-table/tree-table.js"></script>
    <!--IVG JS-->
    <script src="../../assets/js/common.js"></script>

    <script src="cases.js"></script>
</body>
</html>